<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/basic.html}">

<head>
    <title>상세 보기</title>
</head>
<div layout:fragment="content">
    <div class="row mt-3">
        <div class="col">
            <div class="card">
                <div class="card-header">
                    상세 보기
                </div>
                <div class="card-body">
                    계약
                    <div class="input-group mb-3">
                        <span class="input-group-text">글번호</span>
                        <input type="text" class="form-control" th:value="${dto.contractNo}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">계약코드</span>
                        <input type="text" class="form-control" th:value="${dto.contractCode}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">계약일자</span>
                        <input type="text" class="form-control" th:value="${#temporals.format(dto.regDate, 'yyyy-MM-dd')}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">계약상태</span>
                        <input type="text" class="form-control" th:value="${dto.contractState}" readonly>
                    </div>
                    품목
                    <div class="input-group mb-3">
                        <span class="input-group-text">품목코드</span>
                        <input type="text" class="form-control" th:value="${dto.Product.pcode}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">품목</span>
                        <input type="text" class="form-control" th:value="${dto.Product.pname}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">단가</span>
                        <input type="text" class="form-control" th:value="${dto.Product.pprice}" readonly>
                    </div>
                    공급업체
                    <div class="input-group mb-3">
                        <span class="input-group-text">사업자등록번호</span>
                        <input type="text" class="form-control" th:value="${dto.Company.cCNumber}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">상호</span>
                        <input type="text" class="form-control" th:value="${dto.Company.companyName}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">주소</span>
                        <input type="text" class="form-control" th:value="${dto.Company.cAddress}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">전화번호</span>
                        <input type="text" class="form-control" th:value="${dto.Company.cPhonNumber}" readonly>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">팩스</span>
                        <input type="text" class="form-control" th:value="${dto.Company.cFax}" readonly>
                    </div>

                    <div class="my-4">
                        <div class="form-end" th:with="link = ${pageRequestDTO.getLink()}">
                            <a th:href="|@{/contract/list}?${link}|" class="text-decoration-none">
                                <button type="button" class="btn btn-primary">목록</button>
                            </a>
                            <a th:href="|@{/contract/modify(contractNo=${dto.contractNo})}&${link}|" class="text-decoration-none">
                                <button type="button" class="btn btn-secondary">수정</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script layout:fragment="script" th:inline="javascript">

    document.addEventListener("DOMContentLoaded", function () {
        const classificationSelect1 = document.getElementById("분류1");
        const productSelect = document.getElementById("분류2");

        // 분류1 선택이 변경될 때마다 분류2의 옵션을 업데이트합니다.
        분류1Select.addEventListener("change", function () {
            // 선택된 분류1의 값 가져오기
            const selectedValue = 분류1Select.value;

            // 분류2의 옵션을 초기화
            분류2Select.innerHTML = "";

            // 분류1에 따라 분류2의 옵션을 동적으로 추가
            if (selectedValue === "옵션1") {
                분류2Select.appendChild(createOption("옵션1-1"));
                분류2Select.appendChild(createOption("옵션1-2"));
            } else if (selectedValue === "옵션2") {
                분류2Select.appendChild(createOption("옵션2-1"));
                분류2Select.appendChild(createOption("옵션2-2"));
            } else if (selectedValue === "옵션3") {
                분류2Select.appendChild(createOption("옵션3-1"));
                분류2Select.appendChild(createOption("옵션3-2"));
            }
        });

        // 새로운 옵션 요소를 생성하는 함수
        function createOption(value) {
            const option = document.createElement("option");
            option.value = value;
            option.textContent = value;
            return option;
        }
    });


</script>
</html>